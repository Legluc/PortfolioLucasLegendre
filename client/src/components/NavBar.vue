<template>
    <nav id="Nav" :class="{ NavAcceuil: $route.name === 'IndexPage',
      Active: isMenuOpen
    }">
    <div class="LogosNav">
      <router-link to="/">
        <svg id="LogoNav" xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 232.8 283">
          <path class="st0" d="M203.3,70.2c.1,0,.3,0,.4,0,5.2-1,7.9-1.5,9.5-1.9,11.9-3.4,19.5-12.6,19.6-23.5,0-10.6-7.4-19.7-18.9-23.2-4.1-1.3-8.4-1.9-12.5-1.9-6.9,0-13.2,1.7-18.8,4.1-1.2.5-2.7.2-3.6-.7C165.1,8.3,145.8,0,124.8,0s-32.4,5.1-45.6,14.2c-14.3,10-24.4,24.1-29.1,40.9-2.7,9.5-2.6,17.7-2.5,25,0,4.5.1,8.7-.4,13.2-.4,3.7-3,8.1-5.8,12.7-3,4.9-6.3,10.5-8.1,17.1-2,7.3-2.2,13.5-2.4,19-.3,7.1-.5,12.8-4.5,20.4-2.9,5.4-5.9,9.8-8.9,14.1-6.5,9.4-13.2,19.1-15.9,36.9-3.8,25-.6,43.8,9.7,55.7,7.9,9.2,19.4,13.9,34.2,13.9s4.6-.1,7-.3c14.6-1.3,20.8-8.7,25.3-14,2.1-2.5,3.9-4.6,6.5-6.3,2.1-1.4,5.4-2.4,8.8-3.6,2.9-.9,5.8-1.9,8.7-3.3,15.3-7.1,25.1-20.2,25.8-34.2,0-.6,0-1.3,0-1.9,0-2.2,2.3-3.7,4.4-2.9,5.9,2.2,12.8,3.3,20.6,3.3s18.2-1.6,25.2-4.3c25.2-9.9,38.8-34.5,37.2-67.5-.2-4.4-.6-9.2-1.9-14-.4-1.3.1-2.7,1.3-3.5h.2c1.1-.9,1.6-2.3,1.3-3.7l-1.3-4.6-13.7-47.9c-.5-1.8.6-3.7,2.5-4.1Z"/>
          <g>
            <path class="st1" d="M187.3,63.6l17.5,61.4-5.2,3.7c4.3,5.9,5.1,12.8,5.4,19.9,1.2,24.2-6.7,48.3-30.8,57.7-13.6,5.3-42,6.3-50.4-8l-5-13.9c-2.7,12-.6,24.4-1.2,36.5-.6,11.7-9.9,20.9-20.1,25.7s-13.3,4-18.7,7.5c-10.7,6.8-10.9,17.3-27.4,18.8-38.6,3.5-45.1-25.6-40.2-57.8,3.5-23,14.2-29.6,23.8-47.8,8.6-16.2,3.6-26,7.8-41.4,3.1-11.4,12.9-20.4,14.2-31.2s-1.2-23.3,2.6-36.6C74.5,5.4,146.5-7.6,177.8,37.3c10.6-6.1,20.8-10.1,33.2-6.3,16.2,4.9,15.4,22.9-.6,27.6-3.1.9-22.4,4-23.1,5ZM175.8,39.7C138.7-15.1,50.8,19.7,60.4,85.1l80.1-15.4c12-9.6,22.1-21.8,35.2-29.9ZM184.9,64.4l-40.1,7c-10.7,11.7-.4,24.4,3.9,35.7,2.5,6.8,3.2,14.8,2.4,22-.8,6.8-4.5,7.9-1.8,15.8,6.1,17.9,31.7,18.9,43.8,6.2,2.1-2.2,6.6-9.2,7.2-12,.2-1,0-1.5-1.1-1.1-5.5,2.3-11.2,9.7-17.7,11.6-11.7,3.3-19.3-.8-21-12.9-.1-.7-.9-9.6,1.3-7.1,3.4,17.2,17.1,15.4,26.2,3.5-2.1-.8-5.3,2-5.4-1.9,6.9-1.2,13.6-3.2,19.3-7.5l-17.1-59.3ZM134.8,119.4c8.8-8.9,5-25.7-9.3-24.3-3.6.4-12.9,5.4-9.7-2,3-3,12.2,1.7,13.1-3.9,1.5-9.4-17-6.9-21.1.5-3.2,5.7-1.5,14.7,6.1,15.4,4.8.4,14.5-4.7,15.8,1.9,1.8,9.3-16.1,7.2-11.9,15.7,2.8,5.7,13.9-.2,17-3.4ZM96.6,118.9c1.9-.1,3.1,1.9,4,3.3,4.7,7.2,4.4,20.8,11.8,25.9,5.3,3.7,9.8-.9,9.7-6.5-.1-5.1-11.3-23.9-14.5-29.4-3.4-5.8-12.2-21.4-18.6-23-5.4-1.3-8.8,7.3-9.1,11.7-1.2,17.3,11.2,41.8,13.5,59.3,1.8,5.3,6,5.2,8.9.7,7.7-12-7.5-29.2-5.5-42.1ZM70.8,135.4c-9.7-.5-11.3,8.2-10.2,16,1.5,11.2,20.7,44.2,30.6,49.3,20.1,10.3,28.4-25.3,17.6-29.9-9.1-3.9-8.5,14.5-16.3,12.5s-15.6-16.9-16.6-21.9c-1.9-9.8,6.4-12.6,4.8-18.7-.9-3.4-6.7-7.1-10-7.3ZM53.3,169.8c-3.7,1.1-3,8.4-2.5,11.4,1.2,7,7.4,12.8,9.8,19.4,3.5,9.8-2,7.6-5.8,1.2-3.3-5.5-5.1-19.5-10.5-21.8-8.7-3.7-9.1,9-8.2,14.4.8,5.4,9.4,20.2,13.2,24.4,14.5,16.1,29.7,2.1,28-16.4-.8-9.3-11.7-36.4-24-32.6ZM29.4,205.2c-2.5.2-5.6,5.1-6.6,7.2-12,26.1,9,64.5,39.8,45.2,8.2-5.1,12-19.2,2.3-23.7-11-5.1-13.6,18.6-24.1,8.7-9.3-8.7-3.1-20.7-5.2-31-.5-2.2-3.6-6.8-6.2-6.6Z"/>
            <path class="st1" d="M164.8,82.9c12.9-2.7,13.4,17.7.7,15.9-8.3-1.2-9.4-14.1-.7-15.9Z"/>
            <path class="st1" d="M93.3,103c3.1,2.6,2,8.5-2.4,8.9-3.7-2.3-5-7.2-.7-9.8,1-.3,2.3.2,3.1.9Z"/>
          </g>
        </svg>
      </router-link>
      <svg id="LogoBurger" :class="{ Inactive: isMenuOpen }" xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 107.1 115.2" @click="ToggleMenu">
        <!-- Generator: Adobe Illustrator 29.0.1, SVG Export Plug-In . SVG Version: 2.1.0 Build 192)  -->
        <g>
          <path class="st01" d="M10,88.2l1.3-37.5c.5-14.8,8.6-28.4,21.5-35.5,6.2-3.3,13.2-5.2,20.7-5.2s14.6,1.9,20.7,5.2c13,7,21,20.7,21.5,35.5l1.3,37.5v5c0,6.6-5.4,12-12,12H22c-6.6,0-12-5.4-12-12v-5s0,0,0,0"/>
          <path class="st01" d="M85.1,115.2H22c-12.1,0-22-9.9-22-22v-5.3s1.3-37.5,1.3-37.5C1.9,31.9,12.2,15.1,28.1,6.4,35.8,2.2,44.7,0,53.6,0s17.7,2.2,25.5,6.4c15.9,8.6,26.1,25.4,26.8,43.9l1.3,37.8v5c0,12.1-9.9,22-22,22ZM20,88.3v4.8c0,1.1.9,2,2,2h63.1c1.1,0,2-.9,2-2v-4.8l-1.3-37.3c-.4-11.4-6.6-21.8-16.3-27-4.9-2.6-10.4-4-16-4s-11.1,1.4-16,4c-9.7,5.2-15.9,15.6-16.3,27l-1.3,37.3Z"/>
        </g>
        <g>
          <path class="st11" d="M10,93.1c0,6.6,5.4,12,12,12h63.1c6.6,0,12-5.4,12-12v-5H10v5Z"/>
          <rect class="st11" x="10" y="76.6" width="87.1" height="7.7"/>
          <path class="st11" d="M97.1,65.9s-1.3-6.2-5.1-6.2-4.2,1.7-5.1,3.3c-1-1.7-2.5-3.3-5.1-3.3s-4.2,1.7-5.1,3.3c-1-1.7-2.5-3.3-5.1-3.3s-4.2,1.7-5.1,3.3c-1-1.7-2.5-3.3-5.1-3.3s-4.2,1.7-5.1,3.3c-1-1.7-2.5-3.3-5.1-3.3s-4.2,1.7-5.1,3.3c-1-1.7-2.5-3.3-5.1-3.3s-4.2,1.7-5.1,3.3c-1-1.7-2.5-3.3-5.1-3.3s-4.2,1.7-5.1,3.3c-1-1.7-2.5-3.3-5.1-3.3s-4.2,1.7-5.1,3.3c-1-1.7-2.5-3.3-5.1-3.3v7.7s1.3,6.2,5.1,6.2,4.2-1.7,5.1-3.3c1,1.7,2.5,3.3,5.1,3.3s4.2-1.7,5.1-3.3c1,1.7,2.5,3.3,5.1,3.3s4.2-1.7,5.1-3.3c1,1.7,2.5,3.3,5.1,3.3s4.2-1.7,5.1-3.3c1,1.7,2.5,3.3,5.1,3.3s4.2-1.7,5.1-3.3c1,1.7,2.5,3.3,5.1,3.3s4.2-1.7,5.1-3.3c1,1.7,2.5,3.3,5.1,3.3s4.2-1.7,5.1-3.3c1,1.7,2.5,3.3,5.1,3.3s4.2-1.7,5.1-3.3c1,1.7,2.5,3.3,5.1,3.3v-7.7Z"/>
          <polygon class="st11" points="23.4 53.5 30.1 56.6 36.8 53.5 43.5 56.6 50.2 53.5 56.9 56.6 63.6 53.5 70.3 56.6 77 53.5 83.7 56.6 90.4 53.5 95.5 55.9 98.7 48.9 90.4 45.1 83.7 48.1 77 45.1 70.3 48.1 63.6 45.1 56.9 48.1 50.2 45.1 43.5 48.1 36.8 45.1 30.1 48.1 23.4 45.1 16.7 48.1 11.6 45.8 8.4 52.8 16.7 56.6 23.4 53.5"/>
          <path class="st11" d="M53.6,10c-20,0-36.9,13.5-42,31.9h84c-5.1-18.4-22-31.9-42-31.9Z"/>
        </g>
      </svg>
      <svg id="LogoCroix" :class="{ Active: isMenuOpen }" xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 107.1 115.2" @click="ToggleMenu">
        <polygon class="st02" points="30.6 85 38.8 82 41.8 73.8 50 70.8 53 62.6 61.2 59.6 64.2 51.4 72.4 48.4 75.4 40.3 83.5 37.2 86.6 29.1 92.8 26.8 89.6 18.3 79.5 22 76.5 30.2 68.3 33.2 65.3 41.3 57.1 44.4 54.1 52.5 45.9 55.6 42.9 63.7 34.8 66.7 31.7 74.9 23.6 77.9 20.6 86.1 14.4 88.4 17.5 96.9 27.6 93.2 30.6 85"/>
        <polygon class="st02" points="26.1 34.7 29.2 42.8 37.3 45.8 40.3 54 48.5 57 51.5 65.2 59.7 68.2 62.7 76.4 70.9 79.4 73.9 87.6 82.1 90.6 84.4 96.8 92.9 93.6 89.1 83.5 81 80.5 78 72.3 69.8 69.3 66.8 61.1 58.6 58.1 55.6 50 47.4 46.9 44.4 38.8 36.2 35.8 33.2 27.6 25.1 24.6 22.8 18.4 14.2 21.5 18 31.6 26.1 34.7"/>
        <path class="st12" d="M89.6,18.3l3.2,8.5-6.2,2.3-3,8.2-8.2,3-3,8.2-8.2,3-2.8,7.7,5.4,2,3,8.2,8.2,3,3,8.2,8.2,3,3.7,10.1-8.5,3.2-2.3-6.2-8.2-3-3-8.2-8.2-3-3-8.2-7.7-2.8-2,5.4-8.2,3-3,8.2-8.2,3-3,8.2-10.1,3.7-3.2-8.5,6.2-2.3,3-8.2,8.2-3,3-8.2,8.2-3,2.9-7.7-5.4-2-3-8.2-8.2-3-3-8.2-8.2-3-3.7-10.1,8.5-3.2,2.3,6.2,8.2,3,3,8.2,8.2,3,3,8.2,7.7,2.8,2-5.4,8.2-3,3-8.2,8.2-3,3-8.2,10.1-3.7M89.6,8.2c-1.2,0-2.3.2-3.5.6l-10.1,3.7c-2.7,1-4.9,3.2-5.9,5.9l-1.4,3.9-3.9,1.4c-2.7,1-4.9,3.2-5.9,5.9l-1.4,3.9-3.8,1.4c-1.1-2.6-3.2-4.6-5.8-5.6l-3.9-1.4-1.4-3.8c-1-2.7-3.2-4.9-5.9-5.9l-3.9-1.4-.7-1.9c-1.5-4-5.3-6.5-9.4-6.5-1.2,0-2.3.2-3.5.6l-8.5,3.2c-2.5.9-4.5,2.8-5.6,5.2s-1.2,5.2-.3,7.6l3.7,10.1c1,2.7,3.2,4.9,5.9,5.9l3.8,1.4,1.4,3.8c1,2.7,3.2,4.9,5.9,5.9l3.8,1.4,1.4,3.8s0,0,0,0c-2.6,1.1-4.6,3.2-5.6,5.8l-1.4,3.9-3.9,1.4c-2.7,1-4.9,3.2-5.9,5.9l-1.4,3.9-1.9.7c-5.2,1.9-7.8,7.7-5.9,12.8l3.2,8.5c1.5,4,5.3,6.5,9.4,6.5s2.3-.2,3.5-.6l10.1-3.7c2.7-1,4.9-3.2,5.9-5.9l1.4-3.8,3.8-1.4c2.7-1,4.9-3.2,5.9-5.9l1.4-3.9,3.8-1.4c1.1,2.6,3.2,4.6,5.8,5.6l3.9,1.4,1.4,3.9c1,2.7,3.2,4.9,5.9,5.9l3.9,1.4.7,1.9c.9,2.5,2.8,4.5,5.2,5.6,1.3.6,2.7.9,4.2.9s2.3-.2,3.5-.6l8.5-3.2c5.2-1.9,7.8-7.7,5.9-12.8l-3.7-10.1c-1-2.7-3.2-4.9-5.9-5.9l-3.9-1.4-1.4-3.9c-1-2.7-3.2-4.9-5.9-5.9l-3.9-1.4-1.4-3.8c2.6-1.1,4.6-3.2,5.6-5.8l1.4-3.9,3.9-1.4c2.7-1,4.9-3.2,5.9-5.9l1.4-3.9,1.9-.7c2.5-.9,4.5-2.8,5.6-5.2,1.1-2.4,1.2-5.2.3-7.6l-3.2-8.5c-1.5-4-5.3-6.5-9.4-6.5h0Z"/>
      </svg>
    </div>
      <ul id="LienNav" :class="{ Active: isMenuOpen }">
        <li><router-link to="/Portfolio">Portfolio</router-link></li>
        <li><router-link to="/Parcours">Parcours</router-link></li>
        <li><router-link to="/#MesPassions" @click="handleMesPassionsClick">Passions</router-link></li>
        <li><a @click.prevent="scrollToContact">Contact</a></li>
      </ul>
    </nav>
</template>
<script>
import { useRoute } from 'vue-router'
import { gsap } from "gsap"
import { ScrollToPlugin } from "gsap/ScrollToPlugin"
gsap.registerPlugin(ScrollToPlugin)
export default {
  name: 'NavBar',
  data() {
    return {
      isMenuOpen: false,
    };
  },
  methods: {
    ToggleMenu() {
      this.isMenuOpen = !this.isMenuOpen;
      console.log("menu click")
    },
  },
  setup() {
    const route = useRoute()

    const scrollToContact = () => {
      // Détermine la cible selon la page actuelle
      const selector = route.name === 'IndexPage' ? '.ContactAccueil' : '.Contact'
      const target = document.querySelector(selector)
      if (target) {
        gsap.to(window, {
          duration: 1, // durée de l'animation en secondes
          scrollTo: { y: target, autoKill: true },
          ease: "power2.out" // effet d'accélération/décélération
        })
      }
    }

    return { scrollToContact }
  }
};
</script>
<style lang="scss">
  @use '@/assets/scss/components/nav' as *;

</style>